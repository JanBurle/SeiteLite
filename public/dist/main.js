var SLG,doc=document,win=window;SLG.go=(t,e=!1)=>{if(e)win.open(t,"_blank");else{let[e,s]=t.split("#");if(location.pathname==e){let t=doc.qId(s);t?t.scrollIntoView({behavior:"smooth"}):win.scrollTo({top:0,behavior:"smooth"})}else location.assign(t)}};var cl=(...t)=>(SLG.isDev&&console.log(...t),t[0]);(()=>{let t=Object.prototype;t.isStr=function(){return this instanceof String},t.isFun=function(){return this instanceof Function},t.asArr=function(){return Array.isArray(this)?this:[this]},t.toArr=function(){return Array.from(this)}})(),(()=>{let t=Number.prototype;t.isInt=function(){return Number.isInteger(this.valueOf())},t.clamp=function(t,e){return Math.max(t,Math.min(this,e))},t.genArr=function(t){return Array.from({length:this},((e,s)=>t(s,this)))},t.loop=function(t){for(let e=0;e<this;e++)t(e,this)}})(),(()=>{let t=String.prototype;t.toNum=function(t=0){let e=parseFloat(this);return isNaN(e)?t:e},t.toInt=function(t=0){let e=parseInt(this);return isNaN(e)?t:e},t.toObj=function(t){try{return JSON.parse(this)}catch(e){return t}},t.toEl=function(){let t=doc.createElement("div");return t.innerHTML=this,t.firstChild}})(),(()=>{let t=Set.prototype;t.dif=function(t){return new Set([...this].filter((e=>!t.has(e))))},t.uni=function(t){return new Set([...this,...t])}})(),Node.prototype.apd=function(t){let e=t.isStr()?doc.createElement(t):t;return this.appendChild(e)},(()=>{let t=Element.prototype;t.cls=function(){return this.classList.toArr()},t.cla=function(t){for(let e of t.asArr())this.classList.add(e);return this},t.tgl=function(t,e){return this.classList.toggle(t,e),this},t.clk=function(t){return this.addEventListener("click",t),this}})(),(()=>{let t=Document.prototype;t.whenDone=t=>doc.addEventListener("DOMContentLoaded",t),t.qSel=t=>doc.body.querySelector(t),t.qAll=t=>doc.body.querySelectorAll(t),t.qId=e=>t.qSel("#"+e)})(),doc.whenDone((()=>{let t=win.matchMedia("(max-width: 650px)"),e=win.matchMedia("(max-width: 1023px)"),s=(t,e)=>doc.body.tgl(t,e);s("MBL",t.matches),s("TBL",e.matches),t.addEventListener("change",(t=>s("MBL",t.matches))),e.addEventListener("change",(t=>s("TBL",t.matches)))}));class ReVar{_val;constructor(t){this._val=t}get val(){return this._val}set val(t){this._val!=t&&(this._val=t),this.notify()}_subd=new Set;sub(t){this._subd.add(t)}unsub(t){this._subd.delete(t)}notify(){this._subd.forEach((t=>t.isFun()?t(this._val):t.revar()))}}SLG.reVars={};class _Elem extends HTMLElement{root;rv;constructor(){let t;super(),this.rv=SLG.reVars[this.attr("$")]||new ReVar(0),(t=this.attr("go"))?(this.tgl("ptr",!0),this.onclick=e=>SLG.go(t,e.ctrlKey||this.hasAttr("blank"))):(t=this.attr("on"))&&(this.tgl("ptr",!0),this.onclick=()=>new Function(t).call(this))}_tplCl(){let t=this.constructor.tag,e=doc.qId(t)?.content;e&&this.root.appendChild(e.cloneNode(!0))}connectedCallback(){this.rv.sub(this),this.init(),this.revar()}disconnectedCallback(){this.rv.unsub(this),this.done()}init(){}done(){}revar(){}hasAttr(t){return this.hasAttribute(t)}attr(t,e=""){return this.getAttribute(t)??e}attr0(){for(let t of this.attributes)if(!t.value)return t.name;return""}numAttr(t,e=0){return this.attr(t).toNum(e)}intAttr(t,e=0){return this.attr(t).toInt(e)}objAttr(t,e=null){return this.attr(t).toObj(e)}setAttr(t,e=""){this.setAttribute(t,e)}remAttr(t){this.removeAttribute(t)}tglAttr(t,e){void 0===e&&(e=!this.hasAttr(t)),e?this.setAttr(t):this.remAttr(t)}qSel(t){return this.root.querySelector(t)}qAll(t){return this.root.querySelectorAll(t)}qId(t){return this.qSel("#"+t)}slotNodes(){return this.qSel("slot").assignedNodes()}slotTagNodes(t){let e=this.slotNodes();return t=t.toUpperCase(),e.filter((e=>t==e.nodeName))}slotText(t="",e=""){return(t?this.slotTagNodes(t):this.slotNodes())[0]?.textContent||e}slotNum(t="",e=0){return this.slotText(t).toNum(e)}slotInt(t="",e=0){return this.slotText(t).toInt(e)}slotObj(t="",e=null){return this.slotText(t).toObj(e)}qSlot(t){return this.querySelector(t)}_el(t){return t.isStr()?this.qSel(t):t}_slotEl(t){return t.isStr()?this.qSlot(t):t}apdRoot(t){return this.root.apd(t)}move(t,e){this._el(t).appendChild(this._slotEl(e))}setHtml(t,e){this._el(t).innerHTML=e}setPos(t,e){this.style.left=t+"px",this.style.top=e+"px"}onWidth(t){new ResizeObserver((e=>{let{clientWidth:s}=e[0].target;t(s)})).observe(this)}onView(t){new IntersectionObserver(((e,s)=>{0<e[0].intersectionRatio&&(s.disconnect(),t())})).observe(this)}static reAttrs=[];static get observedAttributes(){return this.reAttrs}attributeChangedCallback(t,e,s){e!=s&&this.reatr(t,s)}reatr(t,e){}}let shadowStyle=new CSSStyleSheet;for(let t of doc.styleSheets)if("shadow"==t.title)for(let e of t.cssRules)shadowStyle.insertRule(e.cssText);class ShadowElem extends _Elem{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this._tplCl(),this.root.adoptedStyleSheets=[shadowStyle]}}class LightElem extends _Elem{constructor(){super(),this.root=this,this._tplCl()}}let defElem=(t,e)=>{e.tag=t,customElements.define(t,e)};(()=>{let t={},e=(e,s)=>{let r=t[s];return r&&e.replaceWith(r.toEl().cla(e.cls())),!!r};Element.prototype.fetchIcon=function(s){s&&(e(this,s)||fetch(SLG.SL+`assets/icons/${s}.svg`+SLG.bust).then((t=>t.text())).then((r=>{t[s]=r.replace(' class="',' class="icon ').replace("</svg>","<title></title></svg>"),e(this,s)})))}})(),doc.whenDone((()=>doc.body.cla("ready")));